### YamlMime:UniversalReference
items:
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy'
    name: ExtendedDatabaseBlobAuditingPolicy
    fullName: ExtendedDatabaseBlobAuditingPolicy
    children:
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.auditActionsAndGroups'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.id'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.name'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.predicateExpression'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.retentionDays'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.state'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountAccessKey'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageEndpoint'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.type'
    langs:
      - typeScript
    type: interface
    summary: <span data-ttu-id="d6a0c-101">拡張データベース blob 監査ポリシー。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-101">An extended database blob auditing policy.</span></span>
    extends:
      name: '@azure/arm-sql.ProxyResource'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.auditActionsAndGroups'
    name: auditActionsAndGroups
    fullName: auditActionsAndGroups
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="d6a0c-102">監査アクション グループとアクションを指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-102">Specifies the Actions-Groups and Actions to audit.</span></span>
      <span data-ttu-id="d6a0c-103">推奨されるを使用するアクション グループの設定は次の組み合わせです。-すべてのクエリと、データベース、成功および失敗したログインに対して実行されるストアド プロシージャが監査します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-103">The recommended set of action groups to use is the following combination - this will audit all the queries and stored procedures executed against the database, as well as successful and failed logins:</span></span>

      <span data-ttu-id="d6a0c-104">BATCH_COMPLETED_GROUP、SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP、FAILED_DATABASE_AUTHENTICATION_GROUP します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span></span>

      <span data-ttu-id="d6a0c-105">この組み合わせの上にも、Azure portal から監査を有効にする場合、既定で構成されているセット。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-105">This above combination is also the set that is configured by default when enabling auditing from the Azure portal.</span></span>

      <span data-ttu-id="d6a0c-106">監査するサポートされているアクション グループは (注: 監査のニーズをカバーする特定のグループを選択します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-106">The supported action groups to audit are (note: choose only specific groups that cover your auditing needs.</span></span> <span data-ttu-id="d6a0c-107">不要なグループを使用する可能性が非常に大量の監査レコード)。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-107">Using unnecessary groups could lead to very large quantities of audit records):</span></span>

      <span data-ttu-id="d6a0c-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span><span class="sxs-lookup"><span data-stu-id="d6a0c-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span></span>

      <span data-ttu-id="d6a0c-109">これらは、すべての sql ステートメントに対応するグループと、ストアド プロシージャは、データベースに対して実行され、重複する監査ログで、この結果として、他のグループと組み合わせて使用されませんが。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-109">These are groups that cover all sql statements and stored procedures executed against the database, and should not be used in combination with other groups as this will result in duplicate audit logs.</span></span>

      <span data-ttu-id="d6a0c-110">詳細については、次を参照してください。[データベース レベルの監査アクション グループ](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups)します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-110">For more information, see [Database-Level Audit Action Groups](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span></span>

      <span data-ttu-id="d6a0c-111">データベース監査ポリシーが、特定のアクションは、指定した (注のサーバー監査ポリシーのアクションを指定することはできません) をこともできます。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-111">For Database auditing policy, specific Actions can also be specified (note that Actions cannot be specified for Server auditing policy).</span></span> <span data-ttu-id="d6a0c-112">サポートされているアクションを監査します。更新プログラムの挿入の削除の実行の参照を受け取る</span><span class="sxs-lookup"><span data-stu-id="d6a0c-112">The supported actions to audit are: SELECT UPDATE INSERT DELETE EXECUTE RECEIVE REFERENCES</span></span>

      <span data-ttu-id="d6a0c-113">監査するアクションを定義するための一般的な形式: {action} ON {オブジェクト} {プリンシパル} を</span><span class="sxs-lookup"><span data-stu-id="d6a0c-113">The general form for defining an action to be audited is: {action} ON {object} BY {principal}</span></span>

      <span data-ttu-id="d6a0c-114">なお<object>上の形式で、テーブル、ビュー、またはストアド プロシージャ、または、データベース全体またはスキーマのようなオブジェクトを参照できます。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-114">Note that <object> in the above format can refer to an object like a table, view, or stored procedure, or an entire database or schema.</span></span> <span data-ttu-id="d6a0c-115">後者の場合、データベース フォーム:: {db_name} とスキーマ:: {schema_name} それぞれで使用されます。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-115">For the latter cases, the forms DATABASE::{db_name} and SCHEMA::{schema_name} are used, respectively.</span></span>

      <span data-ttu-id="d6a0c-116">以下に例を示します。SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span><span class="sxs-lookup"><span data-stu-id="d6a0c-116">For example: SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span></span>

      <span data-ttu-id="d6a0c-117">詳細については、次を参照してください[データベース レベルの監査アクション。](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span><span class="sxs-lookup"><span data-stu-id="d6a0c-117">For more information, see [Database-Level Audit Actions](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span></span>
    optional: true
    syntax:
      content: 'auditActionsAndGroups?: string[]'
      return:
        type:
          - 'string[]'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.id'
    name: id
    fullName: id
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="d6a0c-118">リソースの ID</span><span class="sxs-lookup"><span data-stu-id="d6a0c-118">Resource ID.</span></span>
      <span data-ttu-id="d6a0c-119">**注: このプロパティはシリアル化されません。サーバーによってのみ設定できます。**</span><span class="sxs-lookup"><span data-stu-id="d6a0c-119">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'id?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
    name: isAzureMonitorTargetEnabled
    fullName: isAzureMonitorTargetEnabled
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="d6a0c-120">監査イベントは、Azure Monitor に送信されるかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-120">Specifies whether audit events are sent to Azure Monitor.</span></span>
      <span data-ttu-id="d6a0c-121">Azure Monitor にイベントを送信するには 'Enabled' と 'IsAzureMonitorTargetEnabled' true 'State' を指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-121">In order to send the events to Azure Monitor, specify 'State' as 'Enabled' and 'IsAzureMonitorTargetEnabled' as true.</span></span>
      <span data-ttu-id="d6a0c-122">REST API を使用して、監査を構成する、データベースに 'SQLSecurityAuditEvents' 診断ログのカテゴリがある診断の設定も作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-122">When using REST API to configure auditing, Diagnostic Settings with 'SQLSecurityAuditEvents' diagnostic logs category on the database should be also created.</span></span>
      <span data-ttu-id="d6a0c-123">サーバー レベルの監査することは、{databasename} として 'master' データベースを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-123">Note that for server level audit you should use the 'master' database as {databaseName}.</span></span>

      <span data-ttu-id="d6a0c-124">診断設定の URI の形式:PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span><span class="sxs-lookup"><span data-stu-id="d6a0c-124">Diagnostic Settings URI format: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span></span>

      <span data-ttu-id="d6a0c-125">詳細については、次を参照してください[診断設定の REST API](https://go.microsoft.com/fwlink/?linkid=2033207)または[診断設定の PowerShell。](https://go.microsoft.com/fwlink/?linkid=2033043)</span><span class="sxs-lookup"><span data-stu-id="d6a0c-125">For more information, see [Diagnostic Settings REST API](https://go.microsoft.com/fwlink/?linkid=2033207) or [Diagnostic Settings PowerShell](https://go.microsoft.com/fwlink/?linkid=2033043)</span></span>
    optional: true
    syntax:
      content: 'isAzureMonitorTargetEnabled?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
    name: isStorageSecondaryKeyInUse
    fullName: isStorageSecondaryKeyInUse
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="d6a0c-126">StorageAccountAccessKey 値が、記憶域のセカンダリ キーであるかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-126">Specifies whether storageAccountAccessKey value is the storage's secondary key.</span></span>
    optional: true
    syntax:
      content: 'isStorageSecondaryKeyInUse?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.name'
    name: name
    fullName: name
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="d6a0c-127">リソース名。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-127">Resource name.</span></span>
      <span data-ttu-id="d6a0c-128">**注: このプロパティはシリアル化されません。サーバーによってのみ設定できます。**</span><span class="sxs-lookup"><span data-stu-id="d6a0c-128">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'name?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.predicateExpression'
    name: predicateExpression
    fullName: predicateExpression
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="d6a0c-129">場所の条件を指定します、監査を作成するときに、句。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-129">Specifies condition of where clause when creating an audit.</span></span>
    optional: true
    syntax:
      content: 'predicateExpression?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.retentionDays'
    name: retentionDays
    fullName: retentionDays
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="d6a0c-130">ストレージ アカウントにログに記録、監査に保持する日数を指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-130">Specifies the number of days to keep in the audit logs in the storage account.</span></span>
    optional: true
    syntax:
      content: 'retentionDays?: undefined | number'
      return:
        type:
          - undefined | number
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.state'
    name: state
    fullName: state
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="d6a0c-131">ポリシーの状態を指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-131">Specifies the state of the policy.</span></span> <span data-ttu-id="d6a0c-132">状態が有効になっている場合、storageEndpoint または isAzureMonitorTargetEnabled が必要です。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-132">If state is Enabled, storageEndpoint or isAzureMonitorTargetEnabled are required.</span></span> <span data-ttu-id="d6a0c-133">指定できる値は、次のとおりです。'' Enabled、'' ''Disabled''</span><span class="sxs-lookup"><span data-stu-id="d6a0c-133">Possible values include: ''Enabled'', ''Disabled''</span></span>'
    syntax:
      content: 'state: BlobAuditingPolicyState'
      return:
        type:
          - '@azure/arm-sql.BlobAuditingPolicyState'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountAccessKey'
    name: storageAccountAccessKey
    fullName: storageAccountAccessKey
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="d6a0c-134">監査のストレージ アカウントのキー識別子を指定します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-134">Specifies the identifier key of the auditing storage account.</span></span> <span data-ttu-id="d6a0c-135">状態が有効にし、storageEndpoint が指定されて、storageAccountAccessKey が必要です。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-135">If state is Enabled and storageEndpoint is specified, storageAccountAccessKey is required.</span></span>'
    optional: true
    syntax:
      content: 'storageAccountAccessKey?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
    name: storageAccountSubscriptionId
    fullName: storageAccountSubscriptionId
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="d6a0c-136">Blob ストレージのサブスクリプション id を指定します</span><span class="sxs-lookup"><span data-stu-id="d6a0c-136">Specifies the blob storage subscription Id.</span></span>
    optional: true
    syntax:
      content: 'storageAccountSubscriptionId?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageEndpoint'
    name: storageEndpoint
    fullName: storageEndpoint
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="d6a0c-137">Blob ストレージ エンドポイントを指定します (例:https://MyAccount.blob.core.windows.net)します。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-137">Specifies the blob storage endpoint (e.g. https://MyAccount.blob.core.windows.net).</span></span> <span data-ttu-id="d6a0c-138">状態が有効になっている場合は、storageEndpoint が必要です。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-138">If state is Enabled, storageEndpoint is required.</span></span>'
    optional: true
    syntax:
      content: 'storageEndpoint?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.type'
    name: type
    fullName: type
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="d6a0c-139">リソースの種類。</span><span class="sxs-lookup"><span data-stu-id="d6a0c-139">Resource type.</span></span>
      <span data-ttu-id="d6a0c-140">**注: このプロパティはシリアル化されません。サーバーによってのみ設定できます。**</span><span class="sxs-lookup"><span data-stu-id="d6a0c-140">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'type?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
references:
  - uid: '@azure/arm-sql.ProxyResource'
    name: ProxyResource
    spec.typeScript:
      - name: ProxyResource
        fullName: ProxyResource
        uid: '@azure/arm-sql.ProxyResource'
  - uid: '@azure/arm-sql.BlobAuditingPolicyState'
    name: BlobAuditingPolicyState
    spec.typeScript:
      - name: BlobAuditingPolicyState
        fullName: BlobAuditingPolicyState
        uid: '@azure/arm-sql.BlobAuditingPolicyState'