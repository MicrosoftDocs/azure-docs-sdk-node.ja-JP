### YamlMime:UniversalReference
items:
  - uid: '@azure/ms-rest-nodeauth.loginWithVmMSI_2'
    name: 'loginWithVmMSI(MSIVmOptions, Callback<MSIVmTokenCredentials>)'
    children: []
    type: function
    langs:
      - typeScript
    summary: |
      このメソッドを使用する前にから az cli をインストールしてくださいhttps://github.com/Azure/azure-cli/releasesします。
      Az cli を使用したプロビジョニングされた Azure の仮想マシンがあり、MSI を有効になっている場合は、VM から認証トークンを取得し、このメソッドを使用できます。
      新しい VM を作成するには、MSI を有効にする、このコマンドを実行してください: az vm を作成 n g < リソース グループ名 > - < vm_name >--id-割り当てイメージ < os_image_name > 注: 上記のコマンドにより、既定のポート 50342 を含む、ホスト上のサービス エンドポイント

      既にプロビジョニングされている VM で MSI を有効にするには、次のコマンドを実行: az vm id 割り当て-g < リソース グループ名 > n < vm_name > - < custom_port_number > ポート

      このコマンドの詳細についてを実行してください: az vm id 割り当て h

      Azure の仮想マシンで実行されている id サービスを使用して認証します。
      このメソッドは、VM でホストされている認証サービスは要求を実行し、アクセス トークンを取得します。
    syntax:
      content: 'function loginWithVmMSI(options: MSIVmOptions, callback: Callback<MSIVmTokenCredentials>)'
      parameters:
        - id: options
          type:
            - '@azure/ms-rest-nodeauth.MSIVmOptions'
          description: ''
        - id: callback
          type:
            - '@azure/ms-rest-nodeauth.Callback<@azure/ms-rest-nodeauth.MSIVmTokenCredentials>'
          description: ''
      return:
        type:
          - Promise<@azure/ms-rest-nodeauth.MSIVmTokenCredentials>
    package: '@azure/ms-rest-nodeauth'
references:
  - uid: '@azure/ms-rest-nodeauth.MSIVmOptions'
    name: MSIVmOptions
    spec.typeScript:
      - name: MSIVmOptions
        fullName: MSIVmOptions
        uid: '@azure/ms-rest-nodeauth.MSIVmOptions'
  - uid: '@azure/ms-rest-nodeauth.Callback<@azure/ms-rest-nodeauth.MSIVmTokenCredentials>'
    name: MSIVmTokenCredentials>
    spec.typeScript:
      - name: Callback
        fullName: Callback
        uid: '@azure/ms-rest-nodeauth.Callback'
      - name: <
        fullName: <
      - name: MSIVmTokenCredentials
        fullName: MSIVmTokenCredentials
        uid: '@azure/ms-rest-nodeauth.MSIVmTokenCredentials'
      - name: '>'
        fullName: '>'
  - uid: Promise<@azure/ms-rest-nodeauth.MSIVmTokenCredentials>
    name: MSIVmTokenCredentials>
    spec.typeScript:
      - name: Promise<
        fullName: Promise<
      - name: MSIVmTokenCredentials
        fullName: MSIVmTokenCredentials
        uid: '@azure/ms-rest-nodeauth.MSIVmTokenCredentials'
      - name: '>'
        fullName: '>'